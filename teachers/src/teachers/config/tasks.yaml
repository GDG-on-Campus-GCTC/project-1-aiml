research_task:
  description: >
    YOU MUST USE the retriever_tool BEFORE writing any response.

    MANDATORY PROCESS:
    Step 1: Call the retriever_tool with a query related to "{topic}".
    Step 2: Carefully read and understand the retrieved document content.
    Step 3: Write your response based STRICTLY on the retrieved content.

    STRICT CONTENT RULES:
    - Do NOT rely on prior knowledge.
    - Do NOT hallucinate or invent information.
    - Do NOT add facts that are not present in the retrieved documents.
    - If required information is NOT found, explicitly state:
      "Not found in the provided documents".

    FALLBACK RULE (VERY IMPORTANT):
    - Use your own general knowledge ONLY IF:
        a) The retriever_tool returns no content, OR
        b) The retrieved content is clearly incorrect or misleading.
    - This fallback must be used ONLY to avoid giving a wrong academic answer.

       - Use the tool `retriever_tooltwot` for ALL SECOND YEAR questions.
        Second year subjects include:
        • Object-Oriented Programming (OOPS)
        • Data Structures and Algorithms (DSA)
        • Database Management Systems (DBMS)
        • Operating Systems (OS)
        • DD Digital design
        • CAALP computer architecture and assembly language programming
        • DEE digital electronics and embedded systems
        • DAA design and analysis of algorithms
        EEA engineering accounts and economics



      - Examples of SECOND YEAR topics:
        inheritance, polymorphism, classes and objects, abstraction,
        stacks, queues, trees, SQL, normalization, deadlocks,
        process scheduling, memory management.

      - for all the 4 th year subjects like big data analytics , machine learning , python with ml ,
      cloud computing cc , mobile application development mad , software testing and quality assurance  you should only call the tool `retriever_toolfour` to retrieve notes and then answer the question based on the retrieved content only.

      - for the third year subject you must call this retriever_toolthree 
      any how the following subjects in third years are AI or atificial intellingence,CN or Computer Network
      Cryptography and Network Security,Database Systems IOT or Internet of Things IPR or Intellectual Property RightsLR or Logical Reasoning or Quantitative Aptitude
      SCM or Supply Chain Management if this subject comes call this tool only retriever_toolthree  

      If the question is related to ANY of the above topics,
      you MUST call `retriever_tooltwot` FIRST to retrieve notes.
      DO NOT generate an answer without retrieving the notes.

    TASK OBJECTIVE:
    - Conduct research on "{topic}" for undergraduate engineering students.
    - Consider the current academic year as {current_year}.
    - Focus mainly and preferably ONLY on retrieved content.
    - Do NOT generate questions.
    - Provide ONLY conceptual/theoretical information.

  expected_output: >
    A well-structured list of EXACTLY 10 concise bullet points.
    Each bullet point MUST be grounded in the retrieved documents
    (unless the fallback rule is explicitly triggered).
  agent: internal


reporting_task:
  description: >
    YOU MUST USE the retriever_tool BEFORE generating any output.

    MANDATORY PROCESS:
    Step 1: Call the retriever_tool to retrieve document content
            relevant to "{topic}".
    Step 2: Review both:
            a) Retrieved document content, and
            b) Internal faculty’s research output.
    Step 3: Decide the response mode STRICTLY based on user intent.

    RESPONSE DECISION RULES (NON-NEGOTIABLE):
    - If the user EXPLICITLY asks for:
        "important questions", "exam questions", "probable questions",
        "long answer questions", "short answer questions":
        → Generate ONLY exam-oriented questions.
    - If the user asks for concepts, explanations, or theory:
        → Explain the concept clearly.
        → DO NOT generate any questions.
      
         - Use the tool `retriever_tooltwot` for ALL SECOND YEAR questions.
        Second year subjects include:
        • Object-Oriented Programming (OOPS)
        • Data Structures and Algorithms (DSA)
        • Database Management Systems (DBMS)
        • Operating Systems (OS)

      - Examples of SECOND YEAR topics:
        inheritance, polymorphism, classes and objects, abstraction,
        stacks, queues, trees, SQL, normalization, deadlocks,
        process scheduling, memory management.

      If the question is related to ANY of the above topics,
      you MUST call `retriever_tooltwot` FIRST to retrieve notes.
      DO NOT generate an answer without retrieving the notes.

    CONTENT RESTRICTIONS:
    - Use ONLY retrieved document content and internal research output.
    - Do NOT invent syllabus trends or unsupported questions.
    - Do NOT use general knowledge by default.

    FALLBACK RULE:
    - Use general knowledge ONLY IF:
        a) retriever_tool returns no useful data, OR
        b) retrieved data is academically incorrect.
    - Use fallback ONLY to avoid giving a wrong study-related answer.

    ACADEMIC ALIGNMENT:
    - Align content with Hyderabad-based engineering colleges
      (JNTU, Osmania, Autonomous).

    QUALITY REQUIREMENT:
    - At least 90% of the final output must be based on tool results.
    - Never mix theory explanations with question lists.

  expected_output: >
    If questions are requested:
    - A structured set of exam-oriented questions categorized by
      2, 5, 10 marks, grounded in retrieved documents.

    If theory is requested:
    - A clear, student-friendly conceptual explanation
      with NO questions included.
  agent: external


quick_answer_task:
  description: >
    1. Identify the year from the input (e.g., "4th year", "2nd year").
    2. Select the appropriate retriever tool.
    3. Retrieve relevant information.
    4. Answer the user's question DIRECTLY.
    5. process the retrieved content and Combine it with your own knowledge to provide the most complete and accurate answer possible.
    6. Do not be restricted ONLY to the retrieved text if it is lacking.
  expected_output: >
    A concise, accurate, and complete answer to the user's question.
  agent: tutor

